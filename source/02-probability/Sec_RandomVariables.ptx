<section xml:id="Sec_RandomVariables">

    <title>Random Variables</title>
<introduction>
    <statement>
      <p>
        In <xref ref="Sec_Center"/>, and <xref ref="Sec_Variation"/> we found how to find the mean, variance and a standard deviation of a finite population.  Then previously in this chapter, we studied the probability of individual events either happening or not happening.  In this section, we look at the collection of outcomes of random process, and measure centrality and spread of these processes.
      </p>

    </statement>

    <definition>
        <p>
          A <em>random variable</em> random process or variable with a numerical outcome.
        </p>
      </definition>

      <remark>
        <p>
        Given a random variable <m>X</m> with a finite number of outcomes, we denote them <m>X_1,\ldots,X_n</m>, and the probability that <m>X</m> takes on the value <m>X_i</m> is <m>P(X=X_i)</m>..
      </p>
      <p>
        Then since these are all the possible probabilities we have:
        <ol>
          <li><m>0\leq P(X=X_i)\leq 1</m></li>
          <li><m>\sum P(X=X_i)=1</m></li>
        </ol>
      </p>
      </remark>

    <exploration xml:id="exploration-textbooks">
      <title>Textbooks for a class</title>

      <introduction>
          <p>Two books are assigned for a statistics class: a textbook and its corresponding study guide. The
university bookstore determined 20% of enrolled students do not buy either book, 55% buy the
textbook only, and 25% buy both books, and these percentages are relatively constant from one
term to another.</p>
          
      </introduction>



      <task>
        <p>
          If there are 100 students enrolled, how many books should the bookstore expect
to sell to this class?
        </p>
      </task>

      <task>
        <p>
         The textbook costs $137 and the study guide $33. How much revenue should the bookstore expect
from this class of 100 students?
        </p>
      </task>

      <task>
        <p>
         What is the average revenue per student for this course?
        </p>
      </task>

    </exploration>

  </introduction>


<subsection>
  <title>Expectation</title>

 

  <definition xml:id="definition-expectedvalue">
    <p>
      Given a random variable <m>X</m>, the <em>expected value</em> of <m>X</m> denoted <m>E(X)</m> is the mean outcome of <m>X</m>.
    </p>

    <p>
      Note that <m>E(x)</m> need not be an outcome of <m>X</m>.
    </p>

  </definition>

  <remark xml:id="remark-expectedvalue">
    <p>
      For a random variable <m>X</m> with a finite number of ouctomes <m>X_1, \ldots, X_n</m> the expectation of <m>X</m> is computed <me>E(X)=\sum P(X=X_i)\cdot X_i.</me>
    </p>
  </remark>


 <activity xml:id="activity-simulatetextbook">
      <title>Simulating Textbook Purchases</title>
      <introduction>
          <p>Suppose from <xref ref="exploration-textbooks"/> that each student has a 20% chance of not purchasing either book, a 55% chance of purchasing a textbook for $137, and a 25% chance of purchasing a textbook and study guide for $170.  Let <m>X</m> denote the amount of money a student spends.</p>
          
      </introduction>

      <task>
        <p>
          What is the probability that a student spends $0 (<m>P(X=0)=?</m>)
        </p>
      </task>

      <task>
        <p>
          What is the probability that a student spends $137 (<m>P(X=137)=?</m>)
        </p>
      </task>

      <task>
        <p>
          What is the probability that a student spends $170 (<m>P(X=170)=?</m>)
        </p>
      </task>

      <task>
        <p>
          Use <xref ref="remark-expectedvalue"/> to compute <m>E(X)</m>.  How does this value compare to what you found in <xref ref="exploration-textbooks"/> (c)?
        </p>
      </task>

      <task>
            <p>
Run the following code to simulate 100 students and their purchases, and display a histogram of their purchases.
            </p>
            <p>
              <sage language="r">
          <input>
          textbookpurchases = sample(c(0, 137, 170), 100, replace = TRUE, prob = c(0.2, 0.55, 0.25))
          hist(textbookpurchases)
          </input>
          </sage>
        </p>
        </task>

        <task>
            <p>
Run the following code to show the mean revenue spent by students.
            </p>
            <p>
              <sage language="r">
          <input>
          mean(textbookpurchases)
          </input>
          </sage>
        </p>
        <p>
          How does this value compare to what you found in (d)?
        </p>
        </task>

        <task>
            <p>
Modify the following code to simulate 10,000 students and their purchases, and display a histogram of their purchases, and the mean purchaseprice.
            </p>
            <p>
              <sage language="r">
          <input>
          textbookpurchases = sample(c(0, 137, 170), FIXME, replace = TRUE, prob = c(0.2, 0.55, 0.25))
          hist(textbookpurchases)
          mean(textbookpurchases)
          </input>
          </sage>
        </p>
        <p>
          How does this value compare to what you found in (d)? In (f)?
        </p>
        </task>

  </activity>



</subsection>


<subsection>
  <title>Variance</title>


  <exploration xml:id="exploration-dice">
      <title>Outcomes of dice</title>
      <introduction>
          <p>Consider the equally likely outcomes of a dice roll <c>1, 2, 3, 4, 5, 6</c>.</p>
          
      </introduction>

      <task>
        <p>
          Find the population mean and variance of this set.
        </p>
      </task>

  <task>
            <p>
Run the following code to simulate 1,000 die rolls and plot a histogram of their outputs.
            </p>
            <p>
              <sage language="r">
          <input>
          dierolls = sample(c(1, 2, 3, 4, 5, 6), 1000, replace = TRUE, prob = c(1/6, 1/6, 1/6, 1/6, 1/6, 1/6))
          hist(dierolls)
          </input>
          </sage>
        </p>
        </task>  

        <task>
        <p>
Run the following code to find the mean and variance of these dierolls.
            </p>
            <p>
              <sage language="r">
          <input>
          mean(dierolls)
          </input>
          </sage>
          <sage language="r">
          <input>
          var(dierolls)
          </input>
          </sage>
        </p>
        <p>
          How do these values compare to the what you found in (a)?
        </p>
        </task>        

    </exploration>


     

  <remark xml:id="remark-varianceRV">
    <p>
      For a random variable <m>X</m> with a finite number of ouctomes <m>X_1, \ldots, X_n</m> the <em>variance</em> of <m>X</m>, denoted <m>Var(X)</m>,  is computed <me>E(X)=\sum P(X=X_i)\cdot (X_i-E(X)).</me>
    </p>

    <p>
      Then the <em>standard deviation</em> of <m>X</m> is computed <me>\sigma_X=\sqrt{Var(X)}=\sqrt{\sum P(X=X_i)\cdot (X_i-E(X))}.</me>
    </p>
  </remark>

  <activity xml:id="activity-comparison">
      <title>Comparing to Data Sets</title>

      <task>
        <p>
          Compare how expectation is computed in <xref ref="remark-expectedvalue"/>  and that of the mean in <xref ref="Sec_Center"/>.  What connections can you see?
        </p>
      </task>
      <task>
        <p>
          Compare how variance is computed in <xref ref="remark-varianceRV"/>  and that of the population variance in <xref ref="definition-popvariance"/>.  What connections can you see?
        </p>
      </task>

  </activity>

  <activity xml:id="activity-dievariance">
      <title>Die Variance</title>
      <introduction>
          <p>Let <m>X</m> denote the outcome of a Die Roll.</p>
          
      </introduction>

      <task>
        <p>
          For each outcome of a die roll (<m>X_i=1,\ldots,6</m>), find the probability that a die will give that value (<m>P(X=X_i)</m>).
           <me>
  \begin{array}{|c|c|c|c|c|c|c|}
  \hline
  X_i \amp \hspace{1in} \amp \hspace{1in} \amp \hspace{1in} \amp \hspace{1in} \amp \hspace{1in} \amp \hspace{1in}  \\
  \hline
  P(X=X_i) \amp  \amp  \amp \amp \amp \amp \\
  \hline
  \end{array}
</me>
        </p>
      </task>

      <task>
        <p>
          Compute <m>E(X)</m>.
        </p>
      </task>

      <task>
        <p>
          Compute <m>Var(X)</m>.
        </p>
      </task>

      <task>
        <p>
          How do these values compare to what you found in <xref ref="exploration-dice"/> (a) and (c)?
        </p>
      </task>

        

  </activity>


  <activity xml:id="activity-fastfood">
    <title>Fast Food Order</title>
    <introduction>
        <p>Suppose customers for a fast food chain have a 40% chance of ordering the regular combo for $5, a 25% chance of ordering the large for $7.50 and a 35% chance of ordering the jumbo for $12.  Let <m>X</m> denote the money spent.</p>
        
    </introduction>

    
    <task>
      <p>
        Write down a table recording each of the <m>X_i</m> and their associated probability:
    <me>
  \begin{array}{|c|c|c|c|}
  \hline
  X_i \amp 5 \amp 7.50 \amp 12 \\
  \hline
  P(X=X_i) \amp \hspace{1in} \amp \hspace{1in} \amp \hspace{1in}   \\
  \hline
  \end{array}
</me>
</p>
</task>

<task>
      <p>
      Compute <m>E(X), Var(X)</m>.
    </p>
    </task>

    


    <task>
            <p>
Run the following code to simulate 200 customers and plot a histogram of their purchase amounts.
            </p>
            <p>
              <sage language="r">
          <input>
          ordercost = sample(c(5, 7.5, 12), 200, replace = TRUE, prob = c(0.4, 0.25, 0.35))
          hist(ordercost)
          </input>
          </sage>
        </p>
        </task>  

        <task>
        <p>
Run the following code to find the mean and variance of the purchase amounts.
            </p>
            <p>
              <sage language="r">
          <input>
          mean(ordercost)
          </input>
          </sage>
          <sage language="r">
          <input>
          var(ordercost)
          </input>
          </sage>
        </p>
        <p>
          How do these values compare to the what you found in (b)?
        </p>
        </task>    

</activity>



<activity xml:id="activity-lottery">
    <title>Lottery Winnings</title>
    <introduction>
        <p>Suppose a lottery ticket that costs $2 has a 20% chance of winning $5, a 0.1% chance of winning $100 and a 0.001% chance of winning $10000.  Let <m>X</m> denote the winnings of a ticket.</p>
        
    </introduction>

    <task>
      <p>
      What are the possible <em>net</em> winnings (<m>X_i</m>) of a ticket?  (Remember to account for the $2 purchasing cost, and that there is a scenario where you do not win).
    </p>
    </task>
    <task>
      <p>
        Write down a table recording each of the <m>X_i</m> and their associated probability:
    <me>
  \begin{array}{|c|c|c|c|c|}
  \hline
  X_i \amp \hspace{1in} \amp \hspace{1in} \amp \hspace{1in} \amp \hspace{1in} \\
  \hline
  P(X=X_i) \amp  \amp  \amp \amp \\
  \hline
  \end{array}
</me>
</p>
</task>

<task>
      <p>
      Compute <m>E(X), Var(X)</m>.
    </p>
    </task>

    <task>
      <p>
      Do you think overall, do you think the lottery ticket sellers make or lose money?
    </p>
    </task>


    <task>
            <p>
Run the following code to simulate 1,000,000 lottery ticket winnings and plot a histogram of their outputs.
            </p>
            <p>
              <sage language="r">
          <input>
          ticketwinnings = sample(c(-2, 3, 98, 998), 1000000, replace = TRUE, prob = c(0.6989, 0.3, 0.001, 0.0001))
          hist(ticketwinnings)
          </input>
          </sage>
        </p>
        </task>  

        <task>
        <p>
Run the following code to find the mean and variance of these winnings.
            </p>
            <p>
              <sage language="r">
          <input>
          mean(ticketwinnings)
          </input>
          </sage>
          <sage language="r">
          <input>
          var(ticketwinnings)
          </input>
          </sage>
        </p>
        <p>
          How do these values compare to the what you found in (c)?
        </p>
        </task>    

</activity>











</subsection>

<subsection>
  <title>Linear Combinations of Random Variables</title>
  <exploration xml:id="exploration-sumdie">
      <title>Sum of Dice</title>
      <introduction>
        <p>
          We saw in <xref ref="exploration-dice"/> the distribution, mean and variance of the outcome of a die roll, <m>X</m>.  Consider rolling a pair of die, a blue and green one as in <xref ref="activity-doubledie"/>.  Consider the possible pairs of outcomes. 

           <me>
          \begin{array}{cccccc}
          (1,1)\amp(2,1)\amp(3,1)\amp(4,1)\amp(5,1)\amp(6,1)\\
          (1,2)\amp(2,2)\amp(3,2)\amp(4,2)\amp(5,2)\amp(6,2)\\
          (1,3)\amp(2,3)\amp(3,3)\amp(4,3)\amp(5,3)\amp(6,3)\\
          (1,4)\amp(2,4)\amp(3,4)\amp(4,4)\amp(5,4)\amp(6,4)\\
          (1,5)\amp(2,5)\amp(3,5)\amp(4,5)\amp(5,5)\amp(6,5)\\
          (1,6)\amp(2,6)\amp(3,6)\amp(4,6)\amp(5,6)\amp(6,6)\\
          \end{array}
        </me>
          </p>

          <p>
            Let <m>Y</m> denote the sum of both die.
          </p>

        </introduction>


        <task>
            <p>What are the possible values of <m>Y</m></p>
        </task>

        <task>
        <p>
          For each possible sum (<m>Y_i</m>), find the probability that the sum of the die will give that value (<m>P(Y=Y_i)</m>).

          <me>
  \begin{array}{|c|c|c|c|c|c|c|c|c|c|}
  \hline
  Y_i \amp \hspace{0.5in} \amp \hspace{0.5in} \amp \hspace{0.5in} \amp \hspace{0.5in} \amp \hspace{0.5in} \amp \hspace{0.5in} \amp \hspace{0.5in} \amp \hspace{0.5in} \amp \hspace{0.5in} \amp \hspace{0.5in} \amp \hspace{0.5in} \\
  \hline
  P(Y=Y_i) \amp  \amp  \amp \amp \amp \amp  \amp  \amp \amp \amp \amp  \\
  \hline
  \end{array}
</me>
        </p>
      </task>

      <task>
        <p>
          Compute <m>E(Y)</m> and <m>Var(Y)</m>.
        </p>

        <p>
          How do these values compare to <m>E(X), Var(X)</m> found in <xref ref="activity-dievariance"/>?
        </p>
      </task>

      <task>
            <p>
Run the following code to simulate 1,000 blue and green die rolls and plot a histogram of their sum.
            </p>
            <p>
              <sage language="r">
          <input>
          bluedierolls = sample(c(1, 2, 3, 4, 5, 6), 1000, replace = TRUE, prob = c(1/6, 1/6, 1/6, 1/6, 1/6, 1/6))
          greendierolls = sample(c(1, 2, 3, 4, 5, 6), 1000, replace = TRUE, prob = c(1/6, 1/6, 1/6, 1/6, 1/6, 1/6))
          diesum=bluedierolls+greendierolls
          hist(diesum)
          </input>
          </sage>
        </p>
        </task>  

        <task>
        <p>
Run the following code to find the mean and variance of these dierolls.
            </p>
            <p>
              <sage language="r">
          <input>
          mean(diesum)
          </input>
          </sage>
          <sage language="r">
          <input>
          var(diesum)
          </input>
          </sage>
        </p>
        <p>
          How do these values compare to the what you found in (c)?
        </p>
        </task> 


  </exploration>

<remark xml:id="remark-linofEandV">
  <p>
    Given random vriables <m>X, Y</m> and a constant <m>c</m>, the random variable <m>X+Y</m> has: <me>E(X+Y)=E(X), +E(Y), Var(X+Y)=Var(X)+Var(Y)</me> and the random variable <m>cX</m> has <me>E(cX)=cE(X), Var(cX)=c^2Var(X).</me>
  </p>
</remark>

<p>
  What was computed in <xref ref="exploration-sumdie"/> is the expectation and variance of <m>Y=X_B+X_G</m> the sum of the blue and green die rolls.  Note that both <m>X_B, X_G</m> have the same expectation and variance as a single die roll <m>X</m> as in <xref ref="activity-dievariance"/>.
  </p>


  
  <activity xml:id="activity-diffdie">
      <title>Difference of Dice</title>
      <introduction>
        <p>
          W Consider rolling a pair of die, a blue and green one as in <xref ref="exploration-sumdie"/>.  Consider the possible pairs of outcomes. 

           <me>
          \begin{array}{cccccc}
          (1,1)\amp(2,1)\amp(3,1)\amp(4,1)\amp(5,1)\amp(6,1)\\
          (1,2)\amp(2,2)\amp(3,2)\amp(4,2)\amp(5,2)\amp(6,2)\\
          (1,3)\amp(2,3)\amp(3,3)\amp(4,3)\amp(5,3)\amp(6,3)\\
          (1,4)\amp(2,4)\amp(3,4)\amp(4,4)\amp(5,4)\amp(6,4)\\
          (1,5)\amp(2,5)\amp(3,5)\amp(4,5)\amp(5,5)\amp(6,5)\\
          (1,6)\amp(2,6)\amp(3,6)\amp(4,6)\amp(5,6)\amp(6,6)\\
          \end{array}
        </me>
          </p>

          <p>
            Let <m>Z</m> denote the difference of the green die subtracted from the blue die (<m>Z=X_B-X_G</m>).  Note that <m>Z=X_B+(-1)X_G</m>.
          </p>

        </introduction>


        <task>
          <p>
            Use <xref ref="remark-linofEandV"/> to rewrite <me>E(X_B+(-1)X_G)=E(X_B)+E((-1)X_G)=E(X_B)+(-1)E(X_G)</me> and compute <m>E(X_B+(-1)X_G).</m>
          </p>
        </task>

        <task>
          <p>
            Use <xref ref="remark-linofEandV"/> to rewrite <me>Var(X_B+(-1)X_G)=Var(X_B)+Var((-1)X_G)=Var(X_B)+(-1)^2Var(X_G)</me> and compute <m>Var(X_B+(-1)X_G).</m>
          </p>
        </task>

      <task>
            <p>
Run the following code to simulate 1,000 blue and green die rolls and plot a histogram of their differences.
            </p>
            <p>
              <sage language="r">
          <input>
          bluedierolls = sample(c(1, 2, 3, 4, 5, 6), 1000, replace = TRUE, prob = c(1/6, 1/6, 1/6, 1/6, 1/6, 1/6))
          greendierolls = sample(c(1, 2, 3, 4, 5, 6), 1000, replace = TRUE, prob = c(1/6, 1/6, 1/6, 1/6, 1/6, 1/6))
          diediff=bluedierolls-greendierolls
          hist(diediff)
          </input>
          </sage>
        </p>
        </task>  

        <task>
        <p>
Run the following code to find the mean and variance of these dierolls.
            </p>
            <p>
              <sage language="r">
          <input>
          mean(diediff)
          </input>
          </sage>
          <sage language="r">
          <input>
          var(diediff)
          </input>
          </sage>
        </p>
        <p>
          How do these values compare to the what you found in (a) and (b)?
        </p>
        </task> 


  </activity>



<activity xml:id="activity-fastfoodgroup">
    <title>Fast Food Group Order</title>
    <introduction>
        <p>Recall the fast food orders of <xref ref="activity-fastfood"/>. Suppose a group of ten friends order together, and let the cost of their order be <m>G=X_1+\ldots X_{10}</m> where each <m>X_i</m> is the cost of an individual order as in <xref ref="activity-fastfood"/>.</p>
        
    </introduction>

    
    <task>
      <p>
        Use <xref ref="remark-linofEandV"/> and the fact that <me>G=X_1+X_2+X_3+X_4+X_5+X_6+X_7+X_8+X_9+X_{10}</me> to find <m>E(G), Var(G)</m>.
</p>
</task>


    


    <task>
            <p>
Run the following code to simulate 200 groups of ten and plot a histogram of their purchase amounts.
            </p>
            <p>
              <sage language="r">
          <input>
          groupcost=rep(0, 200)
          for(i in 1:10){
           groupcost = groupcost+sample(c(5, 7.5, 12), 200, replace = TRUE, prob = c(0.4, 0.25, 0.35))
        }
          hist(groupcost)
          </input>
          </sage>
        </p>
        </task>  

        <task>
        <p>
Run the following code to find the mean and variance of the purchase amounts.
            </p>
            <p>
              <sage language="r">
          <input>
          mean(groupcost)
          </input>
          </sage>
          <sage language="r">
          <input>
          var(groupcost)
          </input>
          </sage>
        </p>
        <p>
          How do these values compare to the what you found in (a)?
        </p>
        </task> 



</activity>


 <activity xml:id="activity-icecream">
    <title>Ice Cream</title>
    <introduction>
        <p>Suppose that a box of Ice Cream comes with on average 60 oz of ice cream, but because theyre not all packed evenly, with a standard deviation of 2 oz.  Suppose a scoop of ice cream is 3oz, but with standard deviation of 0.15oz.</p>
        
    </introduction>

    <task>
      <p>
        Let <m>B</m> denote the number of oz in a box of ice cream and find <m>E(B), Var(B)</m>.  (Hint: recall <xref ref="remark-varianceRV"/> and the relationship between standard deviation and variance.)
      </p>
    </task>

    <task>
      <p>
        Let <m>S</m> denote the number of oz in a scoop of ice cream and find <m>E(S), Var(S)</m>.
      </p>
    </task>

    <task>
      <p>
      Let <m>R</m> denote the amount of ice cream remaining in a box after I take 2 scoops out, note that <m>R=B-S_1-S_2=B+(-1)S_1+(-1)S_2</m>.
    </p>
    <p>
      Find <m>E(R), Var(R)</m>.
    </p>
    </task>

    <task>
            <p>
Run the following code to simulate 1000 boxes of icecream with 2 scoops removed.
            </p>
            <p>
              <sage language="r">
          <input>
          boxoz=rnorm(1000, mean = 60, sd = 2)
          scooponeoz=rnorm(1000, mean = 2, sd = .15)
          scooptwooz=rnorm(1000, mean = 2, sd = .15)

          remainicecream=boxoz-scooponeoz-scooptwooz
          hist(remainicecream)
          </input>
          </sage>
        </p>
        </task>  

        <task>
        <p>
Run the following code to find the mean and variance of these remains.
            </p>
            <p>
              <sage language="r">
          <input>
          mean(remainicecream)
          </input>
          </sage>
          <sage language="r">
          <input>
          var(remainicecream)
          </input>
          </sage>
        </p>
        <p>
          How do these values compare to the what you found in (c)?
        </p>
        </task> 

</activity>











  </subsection>












</section>
