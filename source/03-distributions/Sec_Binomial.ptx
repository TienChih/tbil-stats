<section xml:id="Sec_Binomial">

    <title>Binomial Distribution</title>

   <introduction>
        <p> In this section, we explore the <em>binomial probability distribution</em> .</p>
        

    <exploration xml:id="exploration-freethrow">
        <title>Free Throws</title>

        <introduction>
            <p>Suppose a basketball player has a 90% chance shot of making a free-throw, and suppose that the success of each free-throw was <em>independent</em> of each other.  If she took 4 shots, the probability that she makes the first two and misses the last two would be:

            <me>P(F_1=\text{score})P(F_2=\text{score})P(F_3=\text{miss})P(F_4=\text{miss})=(0.9)(0.9)(0.1)(0.1)=0.0081</me>

            where <m>F_i</m> denotes the outcome of the <m>i</m>th free throw.

          </p>
            
        </introduction>

        <task>
            <p>What is the probability that she takes 4 free throws, makes the last two shots, but misses the first two?</p>
        </task>

        <task>
            <p>What is the probability that she takes 4 free throws, makes the first and third shots, but misses the other two?</p>
        </task>

        <task>
            <p>What do we notice about the probabilities found in (a) and (b)?</p>
        </task>

        <task>
            <p>Using <xref ref="definition-combination"/>, how many ways can we select 2 our of 4 free-throws for her to make?</p>
        </task>


    </exploration>

        </introduction>

<subsection>
  <title>Binomial Probabilities</title>


    <definition xml:id="DefinitionBinomial">
  <p>
    Given <m>n</m> <em>independent</em> trials, each of which has <m>p</m> probability of success, let <m>X</m> denote the number of successes attained.  We call <m>X</m> a <term>binomial random variable</term>.  The probability that exactly <m>k</m> successes are attained is: <me>P(X=k)=C(n,k) p^k (1-p)^{n-k}.</me>
  </p>
</definition>  

<remark>
  <p>
    <ul>
      <li>The <m>C(n,k)</m> stems from the number of ways to select <m>k</m> out of <m>n</m> trials to be succesful.</li>
      <li>The <m>p^k</m> comes from the probability that the <m>k</m> selected trials are succesful.</li>
      <li>The <m>(1-p)^{n-k}</m> comes from the probability that theremaining <m>n-k</m> not-selected trials are unsuccesful.</li>
    </ul>
  </p>
</remark>


<activity xml:id="activity-freethrow">
        <title>Free Throws</title>

        <introduction>
            <p>Consider the basketball player from <xref ref="exploration-freethrow"/>, taking <m>n=4</m> free throws with a <m>p=0.9</m> probability of each free-throw being a success.  Let <m>X</m> denote the number of succesful free throws.

          </p>
            
        </introduction>

        <task>
            <p>What is the probability that she makes exactly 2 free throws, that is, <m>P(X=2)</m>?</p>
        </task>

        <task>
      <p>
        Run the following code to simulate 1000 trials of <c>freethrows=4</c> free throws taken with <c>p=0.9</c> probability of success each, and plot a histogram of the number of succesful free throws:
        <sage language="r">
          <input>
        numbaskets = rep(0, 1000)

        freethrows=4
        p=0.9

        for(i in 1:freethrows){
          numbaskets=numbaskets+sample(c(1, 0), 1000, replace = TRUE, prob = c(p, 1-p)) 
        }
        hist(numbaskets)
        </input>
        </sage>
      </p>
      
    </task>

    <task>
      <p>
        Run the following code to see how many of these trials resulted in two succesful free throws:
        <sage language="r">
          <input>
        length(which(numbaskets==2))
        </input>
        </sage>
        How does this compare to what you found in (a)?
      </p>
      
    </task>

        <task>
            <p>Suppose her less experienced teammate only has a <m>p=0.65</m> chance of making a shot.  If she takes 5 free throws, what are the chances she makes exactly <m>k=3</m> free throws? </p>
        </task>


        <task>
      <p>
        Modify and run the following code to simulate 1000 trials of  free throws for the teammate and plot a histogram of the number of succesful free throws:
        <sage language="r">
          <input>
        numbasketsTM = rep(0, 1000)

        freethrows=FIXME
        p=FIXME

        for(i in 1:freethrows){
          numbasketsTM=numbasketsTM+sample(c(1, 0), 1000, replace = TRUE, prob = c(p, 1-p)) 
        }
        hist(numbasketsTM)
        </input>
        </sage>
      </p>
      
    </task>

    <task>
      <p>
        Modify and run the following code to see how many of these trials resulted in three succesful free throws:
        <sage language="r">
          <input>
        length(which(numbasketsTM==FIXME))
        </input>
        </sage>
        How does this compare to what you found in (a)?
      </p>
      
    </task>


    </activity>


    <remark>
      <p>
        One can use <c>Desmos</c> or <c>R</c> to directly compute binomial probabilities.  The following compute the probability that a binomial random vairable <m>X</m> with <m>n=5</m> trials, each with probability <m>p=0.65</m> probability of success, has <m>k=4</m> successes</p>.
        <p>
          <interactive desmos="wylreozgmh"/>
          <sage language="r">
          <input>
        dbinom(4, 5, 0.65)
        </input>
        </sage>
        </p>
      </remark>


      <activity xml:id="activity-meeting">
          <title>Meeting Time</title>
          <introduction>
              <p>A department chair calls for a meeting at a certain time.  The ten faculty in the department each have a 60% chance of making the meeting.  Assume whether or not a professor can make the meeting is independent of the other faculty.  Let <m>X</m> denote the number of professors who can make the meeting.</p>
              <p>
          <interactive desmos="7xuuzqjkdm"/>
          <sage language="r">
          <input>
        dbinom(FIXME, FIXME, FIXME)
        </input>
        </sage>
        </p>
              
          </introduction>

          <task>
            <p>Compute <m>P(X=k)</m> for <m>k=8, 9</m> and <m>10</m>.</p>
          </task>

          <task>
            <p>Sum the values you found in (a) to find the probability that at least 8 professors make the meeting (<m>P(X\geq 8)</m>).</p>
          </task>

          <task>
            <p>If less than 4 professors make the meeting, how many professors could have made the meeting?</p>
          </task>

          <task>
            <p>Find the probability that less than 4 professors make the meeting.</p>
          </task>

          <task>
           <p> In the <c>Desmos</c> above, set <c>Min:8</c>, <c>Max:10</c> and compare the output to what you found in (a).</p>
          </task>

          <task>
            <p>In the <c>Desmos</c> above, set <c>Min:</c> and <c>Max:</c> to values which correspond to <q>less than 4</q>.  (Less than 4 would mean 4 is not included.)  Compare the output to what you found in (d).</p>
          </task>

          <task>
            <p>
            Run the following to compute the probability that 3 or fewer professors would make the meeting:

             
          <sage language="r">
          <input>
        pbinom(3, 10, 0.6, lower.tail = TRUE)
        </input>
        </sage>
        </p>

      </task>

      <task>
            <p>
            Run the following to compute the probability that more than 7 professors would make the meeting:

             
          <sage language="r">
          <input>
        pbinom(7, 10, 0.6, lower.tail = FALSE)
        </input>
        </sage>
        </p>

      </task>

      <task>
        <p>
          What is the probability that at least 4 and at most 7 professors make the meeting?
        </p>
      </task>






      </activity>

    </subsection>

    <subsection>
      <title>Expectation and Variance</title>




    </subsection>





</section>
